---
title: "Week 4"
format: html
editor: visual
---

### Designing MaxDiff Experiments (*Technical Paper - Sawtooth Software*)

In MaxDiff questionnaires (or paired comparison designs), we need to choose an efficient fraction of the total possible combinations of items to show each respondent. The MaxDiff System uses a programming-based algorithm to choose designs according to the following criteria:

-   Frequency balance. Each item appears an equal number of times.
-   Orthogonality. Each item is shown in the same sets with each other item an equal number of times.
-   Connectivity. A set of items is connected if the items cannot be divided into two groups where any item within one group is never paired with any item within the other group. All items are either directly or indirectly compared to all other items. This allows us to place all the items on a common utility scale.
-   Within-set positional balance. Each item appears an equal number of times in the top, middling, and bottom positions in the sets.
-   Across-set positional balance. Within each version, items are distributed across the questions to try to avoid showing the same item in successive (or nearby) sets.

[Aggregate Score Estimation - Saw Tooth](https://legacy.sawtoothsoftware.com/help/lighthouse-studio/manual/maxdiff_aggregate_logit_analysis.html#:~:text=Note%3A%20Aggregate%20Logit%20has%20been,average%20preferences%20for%20the%20sample) 

- The MaxDiff System also includes an Aggregate Logit option in case the user wishes to pool all respondent data to compute average scores across the population. This is useful for quick, topline results, or to analyze especially sparse MaxDiff data (e.g., many items and few exposures of each item to each respondent).

### R Package - [BWS Tools](https://cran.r-project.org/web/packages/bwsTools/index.html)

**BIBDS** - It is a function which gives a dataframe of 32 different balanced incomplete block designs (BIBD) that can be used to set up best-worst scaling studies. The columns are:

- design, which is an identification number that can is fed to get_bibd;
- t, which is the number of items (or "treatments") one will be using in the study; 
- k, which is how many of the items the respondent sees per trial; 
- r, which is how many times the participant sees each item across all of the trials; 
- b, which is how many trials (or "blocks") there are in the design; 
- lambda, which indicates how many times each pair of options co-occur throughout the design.

```{r}
library(bwsTools)


bibds

a <- make_bibd(29, seed = 1839)
a
```
