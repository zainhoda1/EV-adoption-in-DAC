install.packages("xlsx")
library(here)
here
here()
DOE_J40_DAC <-read.xlsx(here('data','DOE_J40_DAC.xlsx'))
library(xlsx)
install.packages("xlsx")
library(xlsx)
library(logitr)
library(tidyverse)
library(fastDummies)
library(here)
DOE_J40_DAC <-read_csv(here('data','DOE_J40_DAC.csv'))
DOE_J40_DAC
View(DOE_J40_DAC)
filter(DOE_J40_DAC, DAC_indicator == 1)
DOE_J40_DAC_true <- filter(DOE_J40_DAC, DAC_indicator == 1)
View(DOE_J40_DAC_true)
df <- filter(DOE_J40_DAC, DAC_indicator == 1)
hist(x = df$over_30min_commute_pct)
hist(x = df$over_30min_commute_pct,
breaks = 10,
main = "Percent of total population with a drive time to employment >= to 30 minutes",
xlab = "count of tract",
ylab= "percentage")
hist(x = df$over_30min_commute_pct,
breaks = 10,
main = "Percent of total population with a drive time to employment >= to 30 minutes",
ylab = "count of tract",
xlab= "percentage")
hist(x = df$over_30min_commute_pct,
breaks = 10,
main = "Percent of total population with a drive time to employment >= 30 minutes",
ylab = "count of tract",
xlab= "fraction of population")
drive_time <- hist(x = df$over_30min_commute_pct,
breaks = 10,
main = "Percent of total population with a drive time to employment >= 30 minutes",
ylab = "count of tract",
xlab= "fraction of population")
View(drive_time)
drive_time
electicity Outage <- hist(x = df$Outage Duration,
electicity Outage <- hist(x = df$grid_outage_duration,
hist(x = df$grid_outage_duration,
breaks = 100,
main = "Average duration of power outage events (in minutes) that occurred for all census tracts in each county from 2017-2020 ",
ylab = "count of tract",
xlab= "Average duration (in minutes)")
hist(x = df$grid_outage_duration,
breaks = 10,
main = "Average duration of power outage events (in minutes) that occurred for all census tracts in each county from 2017-2020 ",
ylab = "count of tract",
xlab= "Average duration (in minutes)")
df_outage <- filter(df, grid_outage_duration <= 2000)
df_outage <- filter(df, grid_outage_duration <= 3000)
df_outage <- filter(df, grid_outage_duration <= 4000)
hist(x = df_outage$grid_outage_duration,
breaks = 10,
main = "Average duration of power outage events (in minutes) that occurred for all census tracts in each county from 2017-2020 ",
ylab = "count of tract",
xlab= "Average duration (in minutes)")
hist(x = df_outage$grid_outage_duration,
breaks = 20,
main = "Average duration of power outage events (in minutes) that occurred for all census tracts in each county from 2017-2020 ",
ylab = "count of tract",
xlab= "Average duration (in minutes)")
df_outage <- filter(df, grid_outage_duration <= 1000)
hist(x = df_outage$grid_outage_duration,
breaks = 20,
main = "Average duration of power outage events (in minutes) that occurred for all census tracts in each county from 2017-2020 ",
ylab = "count of tract",
xlab= "Average duration (in minutes)")
hist(x = df_outage$grid_outage_duration,
breaks = 20,
main = "Average duration of power outage events (in minutes) that occurred for all census tracts in each county from 2017-2020 ",
ylab = "count of tract",
xlab= "Average duration (in minutes)")
df_outage <- filter(df, grid_outage_duration <= 500)
hist(x = df_outage$grid_outage_duration,
breaks = 20,
main = "Average duration of power outage events (in minutes) that occurred for all census tracts in each county from 2017-2020 ",
ylab = "count of tract",
xlab= "Average duration (in minutes)")
hist(x = df_outage$grid_outage_duration,
breaks = 10,
main = "Average duration of power outage events (in minutes) that occurred for all census tracts in each county from 2017-2020 ",
ylab = "count of tract",
xlab= "Average duration (in minutes)")
df_outage <- filter(df, grid_outage_duration <= 100)
hist(x = df_outage$grid_outage_duration,
breaks = 10,
main = "Average duration of power outage events (in minutes) that occurred for all census tracts in each county from 2017-2020 ",
ylab = "count of tract",
xlab= "Average duration (in minutes)")
hist(x = df$avg_transport_burden,
breaks = 10,
main = "Transportation Costs % Income for the Regional Typical Household ",
ylab = "count of tract",
xlab= "% of Income")
hist(x = df$avg_transport_burden,
breaks = 20,
main = "Transportation Costs % Income for the Regional Typical Household ",
ylab = "count of tract",
xlab= "% of Income")
hist(x = df$avg_transport_burden,
breaks = 20,
main = "Transportation Costs % Income for the Regional Typical Household ",
ylab = "count of tract",
xlab= "% of Income")
hist(x = df$avg_transport_burden,
breaks = 20,
main = "Transportation Costs % Income for the Regional Typical Household ",
ylab = "count of tract",
xlab= "% of Income")
hist(x = df$avg_transport_burden,
breaks = 20,
main = "Transportation Costs % Income for the Regional Typical Household ",
ylab = "count of tract",
xlab= "% of Income")
hist(x = df$no_car_pct,
breaks = 20,
main = "Percent of total population with no vehicle(s) available ",
ylab = "count of tract",
xlab= "% of Population")
hist(x = df$no_car_pct,
breaks = 10,
main = "Percent of total population with no vehicle(s) available ",
ylab = "count of tract",
xlab= "% of Population")
hist(x = df_no_car$no_car_pct,
breaks = 10,
main = "Percent of total population with no vehicle(s) available ",
ylab = "count of tract",
xlab= "% of Population")
hist(x = df_no_car$no_car_pct,
breaks = 10,
main = "Percent of total population with no vehicle(s) available ",
ylab = "count of tract",
xlab= "% of Population")
df_no_car <- filter(df, no_car_pct <= 0.5)
hist(x = df_no_car$no_car_pct,
breaks = 10,
main = "Percent of total population with no vehicle(s) available ",
ylab = "count of tract",
xlab= "% of Population")
hist(x = df_no_car$no_car_pct,
breaks = 20,
main = "Percent of total population with no vehicle(s) available ",
ylab = "count of tract",
xlab= "% of Population")
df_no_car <- filter(df, no_car_pct <= 0.3)
hist(x = df_no_car$no_car_pct,
breaks = 20,
main = "Percent of total population with no vehicle(s) available ",
ylab = "count of tract",
xlab= "% of Population")
df_no_car <- filter(df, no_car_pct <= 0.5)
hist(x = df_no_car$no_car_pct,
breaks = 20,
main = "Percent of total population with no vehicle(s) available ",
ylab = "count of tract",
xlab= "% of Population")
df_no_car <- filter(df, no_car_pct <= 0.2)
hist(x = df_no_car$no_car_pct,
breaks = 20,
main = "Percent of total population with no vehicle(s) available ",
ylab = "count of tract",
xlab= "% of Population")
hist(x = df$avg_transport_burden,
breaks = 20,
main = "Transportation Costs % Income for the Regional Typical Household ",
ylab = "count of tract",
xlab= "% of Income")
library(logitr)
library(tidyverse)
library(fastDummies)
library(here)
DOE_J40_DAC <-read_csv(here('data','DOE_J40_DAC.csv'))
DOE_J40_DAC
df <- filter(DOE_J40_DAC, DAC_indicator == 1)
hist(x = df$over_30min_commute_pct,
breaks = 10,
main = "Percent of total population with a drive time to employment >= 30 minutes",
ylab = "count of tract",
xlab= "fraction of population")
hist(x = df_outage$grid_outage_duration,
breaks = 10,
main = "Average duration of power outage events (in minutes) that occurred for all census tracts in each county from 2017-2020 ",
ylab = "count of tract",
xlab= "Average duration (in minutes)")
hist(x = df_no_car$no_car_pct,
breaks = 20,
main = "Percent of total population with no vehicle(s) available ",
ylab = "count of tract",
xlab= "% of Population")
library(here)
.justify {
knitr::opts_chunk$set(
warning = FALSE,
message = FALSE,
fig.path = "figs/",
fig.width = 7.252,
fig.height = 4,
comment = "#>",
fig.retina = 3
)
hist(x = df$over_30min_commute_pct,
breaks = 10,
main = "Percent of total population with a drive time to employment >= 30 minutes",
ylab = "count of tract",
xlab= "fraction of population")
hist(x = df_outage$grid_outage_duration,
breaks = 10,
main = "Average duration of power outage events (in minutes) from  2017-2020 ",
ylab = "count of tract",
xlab= "Average duration (in minutes)")
hist(x = df$avg_transport_burden,
breaks = 20,
main = "Transportation Costs % Income for the Regional Typical Household ",
ylab = "count of tract",
xlab= "% of Income")
hist(x = df_no_car$no_car_pct,
breaks = 20,
main = "Percent of total population with no vehicle(s) available ",
ylab = "count of tract",
xlab= "% of Population")
## Updates:
View(DOE_J40_DAC_true)
hist(x = df$population,
breaks = 10,
main = "population of Tract",
ylab = "count of tract",
xlab= "population count")
hist(x = df$population,
breaks = 100,
main = "population of Tract",
ylab = "count of tract",
xlab= "population count")
df_low_pop <- filter(df, population <= 1000)
hist(x = df_low_pop$population,
breaks = 10,
main = "population of Tract",
ylab = "count of tract",
xlab= "population count")
hist(x = df_low_pop$population,
breaks = 20,
main = "population of Tract",
ylab = "count of tract",
xlab= "population count")
hist(x = df$renters_pct,
breaks = 20,
main = "Proportion of occupied housing units not occupied by property owners ",
ylab = "count of tract",
xlab= "% of Population")
#An R script to Get data from the HUD USPS ZIP Code Crosswalk Files API
library(httr)
key <- "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiI2IiwianRpIjoiY2I5ZGVhNzQ0OTI1NmY1MjlkZmU0OWJlNDNmN2ZhZmViN2VkMjljYThlNzM1NmRlOGRlN2UzYTViNjhlOGE1ZTdhM2NlYjcyNjI0N2M4ODEiLCJpYXQiOjE3MDY3MTcxNjcuNDgyNTUzLCJuYmYiOjE3MDY3MTcxNjcuNDgyNjMxLCJleHAiOjIwMjIzMzYzNjcuNDc4MjAxLCJzdWIiOiI2NTI0OSIsInNjb3BlcyI6W119.HlUJbMPOSY8EFjZolu5DLFhqJ8oRGCoRBLjiStmKGzXtbEfaZzYg_kXF3oLTr3OnF9lZMIa9SPqSQ6zoXbtTWA"
url <- "https://www.huduser.gov/hudapi/public/usps"
# Note that type is set to 1 which will return values for the ZIP to Tract file and query is set to VA which will return Zip Codes in Virginia
response <- httr::GET(url, query = list(type = 8, query = "VA"), add_headers(Authorization = paste("Bearer", key)))
#check for errors
httr::http_error(response)
#access up the output
output <- httr::content(response)
output
output_dataframe <- as.data.frame(output)
View(output_dataframe)
